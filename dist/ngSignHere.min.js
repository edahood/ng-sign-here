!function(){"use strict";angular.module("ngSignHere")}(),function(){"use strict";angular.module("ngSignHere").component("signHere",{controllerAs:"signHere",controller:"signHereController",bindings:{backgroundColor:"@?",penColor:"@?",registerClearHandler:"&?",onSignatureUpdate:"<?",imageFormat:"@?"},template:'<div style="width: 100%; height: 100%;"><canvas style="width: 100%; height: 100%;"></canvas></div>'})}(),function(){"use strict";angular.module("ngSignHere").constant("signatureDefaults",{backgroundColor:"rgba(0, 0, 0, 0)",penColor:"rgb(27, 53, 88)"})}(),function(){"use strict";function e(e,n){let a={$onInit:function(){e.css("display","block"),a.backgroundColor=this.backgroundColor||n.backgroundColor,a.penColor=this.penColor||n.penColor,a.imageFormat=this.imageFormat||void 0,a.onSignatureUpdate=this.onSignatureUpdate,a.registerClearHandler=this.registerClearHandler,a.registerClearHandler&&a.registerClearHandler({handler:a.clear})},$postLink:function(){a.canvas=e.find("canvas")[0],a.ctx=a.canvas.getContext("2d"),a.signaturePad=new SignaturePad(a.canvas,{backgroundColor:a.backgroundColor,penColor:a.penColor,onEnd:a.onEnd}),a.resizeCanvas()},$onDestroy:function(){a.signaturePad.off()},clear:function(){a.signaturePad.clear(),a.onSignatureUpdate&&a.onSignatureUpdate()},onEnd:function(){if(!a.onSignatureUpdate)return;let e;e=a.imageFormat&&"png"!=a.imageFormat?"jpg"==a.imageFormat||"jpeg"==a.imageFormat?a.signaturePad.toDataURL("image/jpeg"):"svg"==a.imageFormat?a.signaturePad.toDataURL("image/svg+xml"):a.signaturePad.toDataURL():a.signaturePad.toDataURL(),a.onSignatureUpdate(e)},resizeCanvas:function(){let e=Math.max(window.devicePixelRatio||1,1);a.canvas.width=a.canvas.offsetWidth*e,a.canvas.height=a.canvas.offsetHeight*e,a.canvas.getContext("2d").scale(e,e),a.signaturePad.clear()}};return a}angular.module("ngSignHere").controller("signHereController",e),e.$inject=["$element","signatureDefaults"]}();